<!DOCTYPE html>
<html lang="th" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สร้างใบรับรองแพทย์</title>
    <link rel="stylesheet" href="/css/style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai+Looped:wght@400;700&family=Noto+Sans:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans', sans-serif;
        }

        .thai-font {
            font-family: 'Noto Sans Thai Looped', 'Noto Sans', sans-serif;
        }

        .dark body {
            background-color: #111827;
            color: #d1d5db;
        }

        .dark fieldset {
            border-color: #4b5563;
        }

        .dark fieldset:disabled,
        .dark fieldset .disabled-content {
            opacity: 0.5;
            pointer-events: none;
        }

        .dark fieldset .disabled-content input,
        .dark fieldset .disabled-content select,
        .dark fieldset .disabled-content textarea {
            background-color: #4b5563;
        }


        .dark input,
        .dark select,
        .dark textarea {
            background-color: #374151;
            border-color: #4b5563;
            color: #d1d5db;
        }

        .dark input:disabled,
        .dark select:disabled,
        .dark textarea:disabled {
            background-color: #4b5563;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .dark input::placeholder,
        .dark textarea::placeholder {
            color: #9ca3af;
        }

        .dark input:focus,
        .dark select:focus,
        .dark textarea:focus {
            --tw-ring-color: #4f46e5;
            border-color: #4f46e5;
        }

        .dark .required-asterisk {
            color: #ef4444;
        }

        .optional-section-content {
            margin-left: 1.25rem;
            padding-left: 1rem;
            border-left: 2px solid #4f46e5;
            margin-top: 0.5rem;
        }

        .hidden-field {
            display: none;
        }
    </style>
</head>

<body class="p-6 sm:p-8">

    <div class="container mx-auto max-w-3xl">
        <header class="mb-8 text-center">
            <h1 class="text-3xl font-bold thai-font text-white">สร้างใบรับรองแพทย์</h1>
            <p class="text-xl text-gray-400">Medical Certificate Generator</p>
        </header>

        <form id="medicalCertificateForm" class="space-y-6">

            <fieldset class="border p-4 rounded-md shadow-sm">
                <legend class="text-lg font-semibold px-2 thai-font text-indigo-400">ข้อมูลทั่วไป / General Information
                </legend>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="letterDate" class="block text-sm font-medium thai-font">วันที่ / Date (พ.ศ.) <span
                                class="required-asterisk">*</span></label>
                        <input type="text" id="letterDate" name="letterDate" placeholder="วว/ดด/ปปปป" required
                            class="date-input mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                    </div>
                    <div>
                        <label for="patientSalutation" class="block text-sm font-medium thai-font">คำนำหน้าชื่อ /
                            Salutation <span class="required-asterisk">*</span></label>
                        <select id="patientSalutation" name="patientSalutation" required
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                            <option value="">-- Select --</option>
                            <option value="นาย" data-english="Mr.">นาย / Mr.</option>
                            <option value="นาง" data-english="Mrs.">นาง / Mrs.</option>
                            <option value="นางสาว" data-english="Ms.">นางสาว / Ms.</option>
                            <option value="นางสาว" data-english="Miss">นางสาว / Miss</option>
                            <option value="ดร." data-english="Dr.">ดร. / Dr.</option>
                            <option value="ศ." data-english="Prof.">ศ. / Prof.</option>
                            <option value="NONE" data-english="">(เว้นว่าง) / (Leave Blank)</option>
                            <option value="OTHER" data-english="">อื่นๆ (ระบุ) / Other (Specify)</option>
                        </select>
                        <input type="text" id="otherPatientSalutation" name="otherPatientSalutation"
                            placeholder="ระบุคำนำหน้า (ไทย / English)"
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm hidden-field">
                    </div>
                    <div class="md:col-span-2">
                        <label for="patientName" class="block text-sm font-medium thai-font">ชื่อ-นามสกุลผู้ป่วย /
                            Patient Full Name <span class="required-asterisk">*</span></label>
                        <input type="text" id="patientName" name="patientName"
                            placeholder="เช่น สมชาย ใจดี / e.g., Somchai Jaidee" required autofocus
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                    </div>
                    <div>
                        <label for="patientGender" class="block text-sm font-medium thai-font">เพศ / Sex <span
                                class="required-asterisk">*</span></label>
                        <select id="patientGender" name="patientGender" required
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                            <option value="">-- Select --</option>
                            <option value="ชาย" data-english="Male">ชาย / Male</option>
                            <option value="หญิง" data-english="Female">หญิง / Female</option>
                            <option value="NONE" data-english="">(เว้นว่าง) / (Leave Blank)</option>
                        </select>
                    </div>
                    <div>
                        <label for="patientAge" class="block text-sm font-medium thai-font">อายุ (ปี) / Age
                            (Years)</label>
                        <input type="number" id="patientAge" name="patientAge" min="0" placeholder="เช่น 30"
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                    </div>
                    <div>
                        <label for="passportNumber" class="block text-sm font-medium thai-font">เลขที่หนังสือเดินทาง /
                            Passport Number</label>
                        <input type="text" id="passportNumber" name="passportNumber"
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                    </div>
                    <div>
                        <label for="nationalIdNumber"
                            class="block text-sm font-medium thai-font">เลขที่บัตรประจำตัวประชาชน / National ID
                            Number</label>
                        <input type="text" id="nationalIdNumber" name="nationalIdNumber" placeholder="X-XXXX-XXXXX-XX-X"
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                    </div>
                </div>
            </fieldset>

            <fieldset class="border p-4 rounded-md shadow-sm">
                <legend class="text-lg font-semibold px-2 thai-font text-indigo-400">รายละเอียดการเจ็บป่วย (เลือกได้) /
                    Sickness Details (Optional)</legend>

                <div class="mt-4 space-y-3 p-3 border border-gray-700 rounded-md">
                    <div class="flex items-center">
                        <input id="includeConsultationDiagnosis" name="includeConsultationDiagnosis" type="checkbox"
                            class="h-5 w-5 text-indigo-500 rounded focus:ring-indigo-400">
                        <label for="includeConsultationDiagnosis"
                            class="ml-2 block text-md font-medium thai-font">ระบุการปรึกษาและวินิจฉัย / Include
                            Consultation & Diagnosis</label>
                    </div>
                    <div id="consultationDiagnosisDetails" class="optional-section-content space-y-3"
                        style="display: none;">
                        <div>
                            <label for="consultationDate"
                                class="block text-xs font-medium thai-font">ผู้ป่วยได้มารับการปรึกษาเมื่อวันที่ /
                                Patient had consultation on (พ.ศ.):</label>
                            <input type="text" id="consultationDate" name="consultationDate" placeholder="วว/ดด/ปปปป"
                                class="date-input mt-1 block w-full rounded-md shadow-sm py-1.5 px-2 text-sm">
                        </div>
                        <div>
                            <label for="diagnosis" class="block text-xs font-medium thai-font">และได้รับการวินิจฉัยเป็น
                                / And is currently sick with:</label>
                            <textarea id="diagnosis" name="diagnosis" rows="2"
                                class="mt-1 block w-full rounded-md shadow-sm py-1.5 px-2 sm:text-sm"></textarea>
                        </div>
                    </div>
                </div>

                <div class="mt-4 space-y-3 p-3 border border-gray-700 rounded-md">
                    <div class="flex items-center">
                        <input id="includeAdvisedRest" name="includeAdvisedRest" type="checkbox"
                            class="h-5 w-5 text-indigo-500 rounded focus:ring-indigo-400">
                        <label for="includeAdvisedRest"
                            class="ml-2 block text-md font-medium thai-font">ระบุคำแนะนำการพัก / Include Advised
                            Rest</label>
                    </div>
                    <div id="advisedRestDetails" class="optional-section-content space-y-3" style="display: none;">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 items-end">
                            <div>
                                <label for="restStartDate" class="block text-xs font-medium thai-font">พักตั้งแต่วันที่
                                    / Rest from (พ.ศ.):</label>
                                <input type="text" id="restStartDate" name="restStartDate" placeholder="วว/ดด/ปปปป"
                                    class="date-input mt-1 block w-full rounded-md shadow-sm py-1.5 px-2 text-sm">
                            </div>
                            <div>
                                <label for="restEndDate" class="block text-xs font-medium thai-font">ถึงวันที่ / To
                                    (พ.ศ.):</label>
                                <input type="text" id="restEndDate" name="restEndDate" placeholder="วว/ดด/ปปปป"
                                    class="date-input mt-1 block w-full rounded-md shadow-sm py-1.5 px-2 text-sm">
                            </div>
                            <div>
                                <label for="restDurationDays" class="block text-xs font-medium thai-font">เป็นเวลา (วัน)
                                    / For (Days):</label>
                                <input type="text" id="restDurationDays" name="restDurationDays" readonly
                                    class="mt-1 block w-full rounded-md shadow-sm py-1.5 px-2 text-sm bg-gray-600">
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>

            <fieldset class="border p-4 rounded-md shadow-sm">
                <legend class="text-lg font-semibold px-2 thai-font text-indigo-400">ประวัติการรักษาเพิ่มเติม (เลือกได้)
                    / Additional Treatment History (Optional)</legend>
                <div class="mt-4 space-y-3 p-3 border border-gray-700 rounded-md">
                    <div class="flex items-center">
                        <input id="includeSyphilisTreatment" name="includeSyphilisTreatment" type="checkbox"
                            class="h-5 w-5 text-indigo-500 rounded focus:ring-indigo-400">
                        <label for="includeSyphilisTreatment"
                            class="ml-2 block text-md font-medium thai-font">ระบุการรักษาซิฟิลิส / Include Syphilis
                            Treatment</label>
                    </div>
                    <div id="syphilisTreatmentDetails" class="optional-section-content space-y-3"
                        style="display: none;">
                        <div>
                            <label for="syphilisTreatmentDate"
                                class="block text-xs font-medium thai-font">ผู้ป่วยได้รับการรักษาโรคซิฟิลิสเมื่อวันที่ /
                                Patient treated for Syphilis on (พ.ศ.):</label>
                            <input type="text" id="syphilisTreatmentDate" name="syphilisTreatmentDate"
                                placeholder="วว/ดด/ปปปป"
                                class="date-input mt-1 block w-full rounded-md shadow-sm py-1.5 px-2 text-sm">
                        </div>
                    </div>
                </div>

                <div class="mt-4 space-y-3 p-3 border border-gray-700 rounded-md">
                    <div class="flex items-center">
                        <input id="includeTBTreatment" name="includeTBTreatment" type="checkbox"
                            class="h-5 w-5 text-indigo-500 rounded focus:ring-indigo-400">
                        <label for="includeTBTreatment"
                            class="ml-2 block text-md font-medium thai-font">ระบุการรักษาวัณโรคเสร็จสิ้น / Include
                            Completed TB Treatment</label>
                    </div>
                    <div id="tbTreatmentDetails" class="optional-section-content space-y-3" style="display: none;">
                        <div>
                            <label for="tbTreatmentCompletionDate"
                                class="block text-xs font-medium thai-font">ผู้ป่วยได้ทำการรักษาวัณโรคเสร็จสิ้นเมื่อวันที่
                                / Patient completed TB treatment on (พ.ศ.):</label>
                            <input type="text" id="tbTreatmentCompletionDate" name="tbTreatmentCompletionDate"
                                placeholder="วว/ดด/ปปปป"
                                class="date-input mt-1 block w-full rounded-md shadow-sm py-1.5 px-2 text-sm">
                        </div>
                    </div>
                </div>
            </fieldset>

            <fieldset class="border p-4 rounded-md shadow-sm">
                <legend class="text-lg font-semibold px-2 thai-font text-indigo-400">ความเห็นแพทย์ (เลือกได้) / Doctor's
                    Comment (Optional)</legend>
                <div class="mt-4 space-y-3 p-3 border border-gray-700 rounded-md">
                    <div class="flex items-center">
                        <input id="includeDoctorComment" name="includeDoctorComment" type="checkbox"
                            class="h-5 w-5 text-indigo-500 rounded focus:ring-indigo-400">
                        <label for="includeDoctorComment"
                            class="ml-2 block text-md font-medium thai-font">ระบุความเห็นแพทย์ / Include Doctor's
                            Comment</label>
                    </div>
                    <div id="doctorCommentDetails" class="optional-section-content space-y-3" style="display: none;">
                        <div>
                            <label for="doctorComment" class="block text-xs font-medium thai-font">ความเห็นแพทย์ /
                                Doctor's Comment:</label>
                            <textarea id="doctorComment" name="doctorComment" rows="3"
                                class="mt-1 block w-full rounded-md shadow-sm py-1.5 px-2 sm:text-sm"></textarea>
                        </div>
                    </div>
                </div>
            </fieldset>

            <fieldset class="border p-4 rounded-md shadow-sm">
                <legend class="text-lg font-semibold px-2 thai-font text-indigo-400">ข้อมูลแพทย์ / Doctor Information
                </legend>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="doctorNameThai" class="block text-sm font-medium thai-font">ชื่อแพทย์ (ภาษาไทย) /
                            Doctor's Name (Thai) <span class="required-asterisk">*</span></label>
                        <input type="text" id="doctorNameThai" name="doctorNameThai" required
                            placeholder="เช่น นพ.กรุง ธนบุรี"
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                    </div>
                    <div>
                        <label for="doctorNameEnglish" class="block text-sm font-medium">Doctor's Name (English) <span
                                class="required-asterisk">*</span></label>
                        <input type="text" id="doctorNameEnglish" name="doctorNameEnglish" required
                            placeholder="DR. KRUNG THONBURI"
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm"
                            style="text-transform: uppercase;">
                    </div>
                    <div class="md:col-span-2">
                        <label for="medicalLicense" class="block text-sm font-medium thai-font">เลขที่ใบประกอบวิชาชีพ /
                            Medical License No. <span class="required-asterisk">*</span></label>
                        <input type="text" id="medicalLicense" name="medicalLicense" required
                            class="mt-1 block w-full rounded-md shadow-sm py-2 px-3 sm:text-sm">
                    </div>
                </div>
            </fieldset>

            <div class="pt-5">
                <div class="flex justify-end space-x-3">
                    <a href="../index.html"
                        class="inline-flex justify-center py-2.5 px-6 border border-gray-600 hover:border-gray-500 shadow-sm text-base font-medium rounded-md text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 thai-font transition-colors">
                        กลับ / Back
                    </a>
                    <button type="button" id="previewButton"
                        class="inline-flex justify-center py-2.5 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 thai-font transition-colors">
                        ดูตัวอย่างและพิมพ์ / Preview & Print
                    </button>
                </div>
            </div>
        </form>
    </div>

    <footer class="text-center text-gray-500 mt-12 sm:mt-16 pb-8">
        <p>&copy; <span id="currentYear"></span> Clinical Letter Generators by Rommy~*. All rights reserved.</p>
    </footer>

    <script src="medical-certificate-script.js"></script>
    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>

</html>